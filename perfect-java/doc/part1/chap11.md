# パッケージ

## パッケージの役割

* 名前空間
* 意味的なまとまりの管理
* アクセス制御

## インポート

import java.util.* と記述すると、java.util パッケージの何かを取り込むわけではなく、List や ArrayList などをjava.util.List, java.util.ArrayList と名前解決させるだけ。生成されるクラスファイルに何か違いがあるわけではない。クラスファイルはパッケージへの参照関係を持つのではなく、java.util.List や java.util.ArrayList への参照関係を持つため。

アスタリスク(*)を使ったインポートを **オンデマンドインポート** と呼ぶ。

java.lang パッケージは特別で、暗黙にインポートされる。

## 単純名の名前解決の優先度

1. そのファイル内で定義する型名
2. 単一型インポートした型名
3. 同じパッケージ内の型名
4. オンデマンドインポートした型名

単純名の衝突を防ぐ指針としては、

* 標準ライブラリの型名と同名は避ける（特に、よく使う型名と同名は避ける）
* オンデマンドインポートをなるべく避ける

## static インポート

static インポートは、クラス及びインタフェースの static メンバ名

* クラスフィールド名
* クラスメソッド名

をインポートする。型のインポート以上に static インポートは慎重に使用すべき。できれば、定数フィールドにのみ static インポートを使うとよい。

## パッケージとアクセス制御

パッケージスコープがデフォルトのアクセス制御である。これを使って、インタフェース及びファクトリクラスを public にして、実装クラスをパッケージスコープとすることで隠蔽するテクニックがある。いかにコードを示す。

[コード例](../../../../../commits/5bd0197ae3e0b35388a7f9e6a41810699e94be1b)

こうして、インタフェースだけをパッケージの外にさらして、実装クラスをパッケージ内に隠蔽する技法はよく使う。
