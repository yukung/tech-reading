# 変数

- ローカル変数
  - 先頭がアルファベットの小文字か「`_`」で始まる
- グローバル変数
  - 先頭が「`$`」で始まる
- インスタンス変数
  - 先頭が「`@`」で始まる
- クラス変数
  - 先頭が「`@@`」で始まる

# 定数

大文字で宣言すると定数になる。再代入してもエラーになるわけではなく警告されるだけ。

# 多重代入

```ruby
a = 1
b = 2
c = 3
# 以下のように書ける
a, b, c = 1, 2, 3
```

不足した場合は `nil`, 余った場合は無視される。

```ruby
a, b, c = 1, 2
p [a, b, c] #=> [1, 2, nil]
a, b, c = 1, 2, 3, 4
p [a, b, c] #=> [1, 2, 3]
```

左辺の変数に1つだけ `*` をつかておくとその変数には余った値の配列が代入される。

```ruby
a, b, *c = 1, 2, 3, 4, 5
p [a, b, c] #=> [1, 2, [3, 4, 5]]
```

## 変数の値を入れ替える

通常なら変数 `tmp` を使うところだが、 Ruby では1行で済む。

```ruby
a, b = 0, 1
a, b = b, a  # a の値を b に、 b の値を a に代入する。
p [a, b]     #=> [1, 0]
```

## 配列の要素を取り出す

配列を代入するときに左辺に複数の変数があると、自動的に配列の要素を取り出して代入される。

```ruby
ary = [1, 2]
a, b = ary
p a          #=> 1
p b          #=> 2
```

配列の先頭の要素だけを取り出したい場合には `,` 以下のようにも書けるが、多用はしないほうが良い。

```ruby
ary = [1, 2]
a, = ary
p a          #=> 1
```

## 入れ子になった配列の要素を取り出す

```ruby
ary = [1, [2, 3], 4]
a, b, c = ary
p a           #=> 1
p b           #=> [2, 3]
p c           #=> 4
```

上記の配列部分も展開したい場合はカッコで括る。

```ruby
ary = [1, [2, 3], 4]
a, (b1, b2), c = ary
p a           #=> 1
p b1          #=> 2
p b3          #=> 3
p c           #=> 4
```
