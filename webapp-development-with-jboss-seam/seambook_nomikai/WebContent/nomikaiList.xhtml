<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">
    
    <ui:define name="body">
    	<rich:panel>
   			<f:facet name="header">飲み会一覧</f:facet>
    		<rich:dataTable value="#{nomikais}" var="p">
    			<f:facet name="header">
	   				<rich:columnGroup>
	   					<h:column>
	   						<h:outputText value="Id" styleClass="headerText" />
	   					</h:column>
	   					<h:column>
	   						<h:outputText value="飲み会名称" styleClass="headerText" />
	   					</h:column>
	   					<h:column>
	   						<h:outputText value="日付" styleClass="headerText" />
	   					</h:column>
	   					<h:column rendered="#{param['update']}">
	   						<h:outputText value="アクション" styleClass="headerText" />
						</h:column>
	   				</rich:columnGroup>
   				</f:facet>
	    		<h:column>
	    			<h:outputText value="#{p.nomikaiid}" />
	    		</h:column>
	    		<h:column>
    				<s:link view="/nomikaiDetail.xhtml" value="#{p.name}" propagation="false">
    					<f:param name="nomikaiid" value="#{p.nomikaiid}" />
	    			</s:link>
	    		</h:column>
	    		<h:column>
	    			<h:outputText value="#{p.date}">
	    				<f:convertDateTime pattern="yyyy/MM/dd" />
	    			</h:outputText>
	    		</h:column>
	    		<h:column rendered="#{param['update']}">
	    			<s:link view="/nomikai.xhtml" value="編集画面へ" propagation="begin">
	    				<f:param name="nomikaiid" value="#{p.nomikaiid}" />
	    			</s:link>
	    		</h:column>
    		</rich:dataTable>
    	</rich:panel>
    </ui:define>
</ui:composition>